{"version":3,"file":"background.js","mappings":";;;;AAAA;AACA,2CAA2C,qBAAqB;AAChE;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,iEAAiE,gBAAgB;AACjF;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA,SAAS;AACT,MAAM;AACN;AACA;AACA;AACA,C","sources":["webpack://weather-extension/./src/background.js"],"sourcesContent":["chrome.runtime.onInstalled.addListener(() => {\r\n    chrome.alarms.create('fetchWeather', { periodInMinutes: 30 });\r\n    fetchWeather();\r\n});\r\n\r\nchrome.alarms.onAlarm.addListener((alarm) => {\r\n    if (alarm.name === 'fetchWeather') {\r\n        fetchWeather();\r\n    }\r\n});\r\n\r\nasync function fetchWeather() {\r\n    console.log(\"Fetching weather data...\");\r\n    try {\r\n        const response = await fetch('https://api.weatherapi.com/v1/forecast.json?key=58863122eea94cbabf690314251306&q=Falkirk&days=3&aqi=no&alerts=no');\r\n        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n        \r\n        const data = await response.json();\r\n        chrome.storage.local.set({ weatherData: data }, () => {\r\n            console.log(\"Weather data saved to local storage.\");\r\n        });\r\n    } catch (error) {\r\n        console.error('Weather fetch failed:', error);\r\n    }\r\n}\r\n "],"names":[],"sourceRoot":""}